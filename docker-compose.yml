version: '2.4'
services:
 ptndown-sp-pia:
  build:
    args:
      PIA_USER: ${PIA_USER}
      PIA_PASS: ${PIA_PASS}
      SP_USERAGENT: ${SP_USERAGENT}
    context: .
    dockerfile: Dockerfile
  cap_add:
    - NET_ADMIN
  devices:
    - /dev/net/tun
  extra_hosts:
    - 47news.ru:77.244.221.63
    - balrad.ru:79.172.252.83
    - donbasstoday.ru:193.233.15.62
    - ecco.ru:95.215.182.186
    - fine-news.ru:213.139.208.57
    - forpostsevastopol.ru:81.200.119.206
    - globalwarnews.ru:213.155.21.184
    - inforeactor.ru:82.202.163.4
    - k-politika.ru:91.228.154.78
    - kuban24.tv:82.202.160.250
    - mosregtoday.ru:178.154.213.69
    - nation-news.ru:94.198.55.82
    - novorossiia.ru:87.236.16.191
    - polit.info:152.89.217.58
    - politexpert.net:188.127.226.136
    - politros.com:152.89.219.221
    - pravdoryb.info:95.142.44.8
    - slovodel.com:94.198.50.179
    - www.voltairenet.org:65.108.13.235
    - wpristav.ru:193.109.246.53
  image: fluxstate/ptndown-sp-pia
  ports:
    - "8049/tcp"
  restart: unless-stopped
  sysctls:
    - net.ipv4.tcp_timestamps=0
    - net.ipv6.conf.all.disable_ipv6=1
    - net.ipv6.conf.default.disable_ipv6=1
  ulimits:
    nofile:
      soft: 1048576
      hard: 1048576
